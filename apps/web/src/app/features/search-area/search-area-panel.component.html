<form class="search" (submit)="onSubmit($event)">
  <label>
    <span>Search area</span>
    <input
      type="text"
      name="searchArea"
      [value]="query"
      placeholder="City, postal code, region, department"
      (input)="onInput($event)"
      (keydown)="queryKey.emit($event)"
    />
  </label>
  @if (suggestions.length > 0) {
    <ul class="geocode-suggestions">
      @for (candidate of suggestions; track candidate.label; let i = $index) {
        <li
          [class.active]="i === suggestionIndex"
          (click)="candidateSelected.emit(candidate)"
        >
          <span class="suggestion-badge">{{ badgeFor(candidate) }}</span>
          <span class="suggestion-label">{{ candidate.label }}</span>
        </li>
      }
    </ul>
  }
  @if (isSuggesting) {
    <span class="hint">Searching locations...</span>
  }
  @if (resolvedAreaLabel) {
    <span class="hint">Selected area: {{ resolvedAreaLabel }}</span>
  }
  <button type="submit">Search this area</button>
</form>
